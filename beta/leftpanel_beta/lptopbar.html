<!DOCTYPE html>

<html>
<head>
    <title></title>
    <link href='https://fonts.googleapis.com/css?family=Nunito:400,300,700' rel='stylesheet' type='text/css'>
    <script src="https://code.jquery.com/jquery-1.11.0.min.js"></script>
    <script src="jquery.mCustomScrollbar.concat.min.js"></script>

    <link href="jquery.mCustomScrollbar.css" rel="stylesheet" type="text/css" />
    <link href="topbar.css" type="text/css" rel="stylesheet">
    <link href="leftpanel.css" rel="stylesheet" type="text/css">

    <script src="header.js"></script>
</head>
<body>
    <div class="topbar">
        <div class="left">
            <a href="./home.php" class="urlinq"></a>
            <a class="menu active"></a>
        </div>
        <div class="right">
            <a class="notify calendar">
                <div class="day">Tue</div>
                <div class="date">9</div>
            </a>
            <a class="notify board">
                <div class="icon"></div>
            </a>
        </div>
        <div class="center">
            <form method="get" action="./search_beta.php">
                <input type="text" name="q" class="text" autocomplete="off" placeholder="Search groups and faculty">
                <button type="submit" class="submit"></button>
            </form>
            <ul class="prelist">
                <li><a><img src="http://lorempixel.com/40/40?id=1"><span>Professors in Your Department</span></a></li>
                <li><a><img src="http://lorempixel.com/40/40?id=2"><span>Courses in Your Department</span></a></li>
                <li><a><img src="http://lorempixel.com/40/40?id=3"><span>Professors in Your School</span></a></li>
                <li><a><img src="http://lorempixel.com/40/40?id=4"><span>Courses in Your School</span></a></li>
                <li><a><img src="http://lorempixel.com/40/40?id=5"><span>Clubs in Your School</span></a></li>
                <li><a><img src="http://lorempixel.com/40/40?id=6"><span>Search Your School</span></a></li>
            </ul>
            <ul class="postlist">
                <li><a><img src="http://lorempixel.com/40/40?id=7"><span>Sample Search Result</span></a></li>
                <li><a><img src="http://lorempixel.com/40/40?id=8"><span>Example result for the search</span></a></li>
                <li><a><img src="http://lorempixel.com/40/40?id=9"><span>Something is return from search</span></a></li>
                <li><a><img src="http://lorempixel.com/40/40?id=0"><span>Another search result</span></a></li>
                <li><a><img src="http://lorempixel.com/40/40?id=9"><span>Anything is return from search</span></a></li>
                <li><a><img src="http://lorempixel.com/40/40?id=0"><span>Some another search result</span></a></li>
                <li><a>Search for More</a></li>
            </ul>
        </div>
    </div>
    <div class="leftpanel">
        <div class="profile">
            <div class="title">
                Profile
                <div class="menu"></div>
            </div>
            <ul>
                <li class="profile-panel">
                    <a class="nostyle">
                        <img class="profile-img" src="http://lorempixel.com/50/70">
                        <div class="details">
                            <span class="name">My Very Really Long Name</span>
                            <!--<span class="status">
                                <img class="status-img" src="http://lorempixel.com/18/18">
                                <span class="status-msg">Online</span>
                            </span>-->
                        </div>
                    </a>
                </li>
                <li><a>Department</a></li>
                <li><a>Really Long School Name</a></li>
            </ul>
            <div class="profile-menu">
                <ul>
                    <li><a><div class="icon prof"></div>Your Profile</a></li>
                    <li><a><div class="icon edit"></div>Edit Profile</a></li>
                    <li><a><div class="icon sign"></div>Sign Out</a></li>
                </ul>
            </div>
        </div>
        <div class="listing">
            <div class="class scrollable">
                <div class="title">
                    <div class="wedge"></div>
                    Classes
                </div>
                <ul>
                    <li><a>Subject 1</a></li>
                    <li><a>Subject 2</a></li>
                    <li><a>A Very Very Long Subject 3</a></li>
                    <li><a>Subject 4</a></li>
                    <li><a>Subject 1</a></li>
                    <li><a>Subject 2</a></li>
                    <li><a>A Very Very Long Subject 3</a></li>
                    <li><a>Subject 1</a></li>
                    <li><a>Subject 2</a></li>
                    <li><a>A Very Very Long Subject 3</a></li>
                    <li><a>Subject 1</a></li>
                    <li><a>Subject 2</a></li>
                    <li><a>A Very Very Long Subject 3</a></li>
                    <li><a>Subject 4</a></li>
                    <li><a>Subject 4</a></li>
                    <li><a>Subject 4</a></li>
                </ul>
            </div>
            <div class="club scrollable">
                <div class="title">
                    <div class="wedge"></div>
                    Clubs
                </div>
                <ul>
                    <li><a>Club 1</a></li>
                    <li><a>Club 2</a></li>
                    <li><a>A Very Very Really Lengthy Organisation 1</a></li>
                    <li><a>Organisation 2</a></li>
                    <li><a>Club 1</a></li>
                    <li><a>Club 2</a></li>
                    <li><a>A Very Very Really Lengthy Organisation 1</a></li>
                    <li><a>Organisation 2</a></li>
                    <li><a>Club 1</a></li>
                    <li><a>Club 2</a></li>
                    <li><a>A Very Very Really Lengthy Organisation 1</a></li>
                    <li><a>Organisation 2</a></li>
                    <li><a>Club 1</a></li>
                    <li><a>Club 2</a></li>
                    <li><a>A Very Very Really Lengthy Organisation 1</a></li>
                    <li><a>Organisation 2</a></li>
                </ul>
            </div>
        </div>
    </div>
    <script>
        (function ($) {
            var weekDays = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];
            $(function () {
                $(".topbar .center form")
                    .click(function () { $(".text", $(this)).focus(); })
                    .submit(function (e) {
                        if ($(".text", $(this)).val().trim() == "") {
                            e.preventDefault();
                            return false;
                        }
                    });
                $(".topbar .center form .text").on("focus", function () {
                    var text = $(this);
                    if (text.val().trim() == "") text.closest(".center").find(".prelist").show();
                    else text.closest(".center").find(".postlist").show();
                }).on("blur", function () {
                    $(this).closest(".center").find(".prelist").hide();
                    $(this).closest(".center").find(".postlist").hide();
                }).on("keyup", function (e) {
                    e = e || event;
                    var text = $(this);
                    if (e.keyCode == 27) {
                        text.val("");
                        text.trigger("blur");
                    } else if (text.val().trim() == "") {
                        text.closest(".center").find(".postlist").hide();
                        text.closest(".center").find(".prelist").show();
                    } else {
                        text.closest(".center").find(".postlist").show();
                        text.closest(".center").find(".prelist").hide();
                    }
                });
                $(".leftpanel .scrollable .title").click(function () {
                    var title = $(this);
                    var clubs = $(".leftpanel .scrollable.club");
                    var classes = $(".leftpanel .scrollable.class");
                    (title.parents(".scrollable")[0] == classes[0] ? function () {
                        //classes.toggleClass("min");
                        // case 1: 50 50
                        if (!(classes.hasClass("full") || classes.hasClass("min"))) {
                            classes.addClass("min");
                            clubs.addClass("full");
                        } else if (classes.hasClass("min")) {
                            if (clubs.hasClass("min")) {
                                classes.removeClass("min").addClass("full");
                            } else {
                                classes.removeClass("min");
                                clubs.removeClass("full");
                            }
                        } else if (classes.hasClass("full")) {
                            classes.removeClass("full").addClass("min");
                        }
                    } : function () {
                        if (!(clubs.hasClass("full") || clubs.hasClass("min"))) {
                            clubs.addClass("min");
                            classes.addClass("full");
                        } else if (clubs.hasClass("min")) {
                            if (classes.hasClass("min")) {
                                clubs.removeClass("min").addClass("full");
                            } else {
                                clubs.removeClass("min");
                                classes.removeClass("full");
                            }
                        } else if (clubs.hasClass("full")) {
                            clubs.removeClass("full").addClass("min");
                        }
                    })();
                });
                $(".leftpanel .scrollable ul").mCustomScrollbar({
                    theme: "minimal-dark",
                    scrollInertia: 100
                })
                $(".leftpanel .profile .title").click(function () {
                    var menu = $(".menu", $(this));
                    var profilemenu = $(".profile-menu", $(this).parents(".profile"));
                    menu.hasClass("open") ? (function () {
                        menu.removeClass("open")
                            .css({ "background-image": "url(menu-x-bar.gif?p" + new Date().getTime().toString() + ")" });
                        profilemenu.removeClass("open");
                    }()) : (function () {
                        menu.addClass("open")
                            .css({ "background-image": "url(menu-bar-x.gif?p" + new Date().getTime().toString() + ")" });
                        profilemenu.addClass("open");
                    }());
                });
                function toggleMenu(active) {
                    var menu = $(".topbar .left a.menu");
                    var leftpanel = $(".leftpanel");

                    if (active) menu.addClass("active");
                    else menu.removeClass("active");

                    menu.hasClass("active") ? (function () {
                        leftpanel.removeClass("hide").addClass("show");
                    }()) : (function () {
                        leftpanel.addClass("hide").removeClass("show");
                    }());
                }
                $(".topbar .left a.menu").click(function () {
                    toggleMenu($(this).toggleClass("active").hasClass("active"));
                });
                $(".topbar .right .day").html(weekDays[new Date().getDay()]);
                $(".topbar .right .date").html(new Date().getDate());
                $(window).resize(function () {
                    if ($(window).width() < 1250) toggleMenu(false);
                    else toggleMenu(true);
                })
                $(window).resize();
            });
        })(jQuery);
    </script>
</body>
</html>